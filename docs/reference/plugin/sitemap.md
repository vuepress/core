# sitemap

<NpmBadge package="@vuepress/plugin-sitemap" />

Generate sitemap for your vuepress project. By default, the generated sitemap will include every page in project excluding 404 page.

## Usage

```bash
npm i -D @vuepress/plugin-sitemap@next
```

```js
const { sitemapPlugin } = require('@vuepress/plugin-sitemap')

module.exports = {
  plugins: [
    sitemapPlugin({
      // options
    }),
  ],
}
```

## Sitemap

Sitemaps provide SEO (Search Engine Optimization):

- Provide search engine spiders with links of the entire website;
- Provide some links for search engine spiders to dynamic pages or pages that are difficult to reach by other methods;
- If a visitor attempts to access a URL that does not exist within the site's domain, the visitor will be directed to a "file not found" error page, and the sitemap can be used as a navigation page.

A sitemap enhances SEO by making all pages findable.

Most search engines only follow a limited number of links within a page, so when the site is very large, a sitemap becomes essential to make everything on the site accessible to search engines and visitors.

Sitemaps is a protocol for site administrators to publish pages that can be crawled on a site to search engine spiders. The content of sitemap files must follow the definition in XML format. Each URL can contain the update period and last update time, the priority of the URL across the site. This allows search engines to crawl website content better and more efficiently.

::: warning Together with robots.txt

Sitemap is basicly used by search engines, when using this plugin, you'd better ensure that you have a valid `rotbot.txt` in the `.vuepress/public` folder to allow search engines spiders to visit your site. A simplest robots.txt is as follows (allow all search engines to access all paths)

```txt
User-agent: *

Allow: /
```

:::

## Options

### hostname

- Type: `string`

- Required: `true`

- Details:

  The domain name where the current site is deployed, the plugin needs this option to work.

### extraUrls

- Type: `string[]`

- Default: `[]`

- Details:

  Extra links to be included.

  If you have some links not including in vuepress router (normally in public folder or generated by other tools directly), you may need this option.

  E.g.: `['/about.html', '/api/']`

### excludeUrls

- Type: `string[]`

- Default: `['/404.html']`

- Details:

  Urls excluding from sitemap, starting with absolute path.

  By default all the urls generated by VuePress (excluding 404 page) will be added into sitemap.

### sitemapFilename

- Type: `string`

- Default: `'sitemap.xml'`

- Details:

  The output filename, relative to dest folder.

### changefreq

- Type: `'always' | 'hourly' | 'daily' | 'weekly' |'monthly' | 'yearly' | 'never'`

- Default: `'daily'`

- Details:

  Page default update frequency, will be overide by [sitemap.changefreq](#sitemap-changefreq) in Frontmatter.

### priority

- Type: `number`

- Default: `0.5`

- Details:

  Page priority, from `0` to `1`.

### modifyTimeGetter

- Type: `(page: Page) => string`

- Required: `false`

- Details:

  Last modify time getter. By default, the plugin will use the timestamp generated by git plugin.

- Example:

```ts
// based on last modify time of source file
{
  modifyTimeGetter: (page) =>
    fs.statSync(app.dir.source(page.filePathRelative)).mtime.toISOString()
}
```

## Frontmatter

### sitemap.changefreq

- Type: `'always' | 'hourly' | 'daily' | 'weekly' | 'monthly' | 'yearly' | 'never'`

- Default: `'daily'`

- Details:

  Page default update frequency. This will overide [changefreq](#changefreq) in Plugin Options.

### sitemap.exclude

- Type: `boolean`

- Default: `false`

- Details:

  Whether exclude the page from sitemap.

### sitemap.priority

- Type: `number`

- Default: `0.5`

- Details:

  Page priority, range from `0` to `1`.
